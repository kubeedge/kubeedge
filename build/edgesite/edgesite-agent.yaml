apiVersion: v1
kind: Pod
metadata:
  name: edgesite-agent
  namespace: default
spec:
  hostNetwork: true
  containers:
  - name: edgesite-agent
    image: liufen90/edgesite-agent-amd64:v1.0
    imagePullPolicy: IfNotPresent
    command: [ "/edgesite-agent"]
    args: [
      "--ca-cert=/root/ca/rootCA.crt",
      "--agent-cert=/root/certs/edgesite-agent.crt",
      "--agent-key=/root/certs/edgesite-agent.key",
      "--proxy-server-host=${EDGESITE_SERVER_IP}",
      "--agent-identifiers=host=${KUBE_APISERVER_IP}",
      ]
    volumeMounts:
    - mountPath: /root/certs
      name: certs
    - mountPath: /root/ca
      name: ca
  volumes:
  - name: certs
    hostPath:
      path: /etc/kubeedge/certs
  - name: ca
    hostPath:
      path: /etc/kubeedge/ca
